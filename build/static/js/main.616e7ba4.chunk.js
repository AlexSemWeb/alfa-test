(this["webpackJsonpalfa-test"]=this["webpackJsonpalfa-test"]||[]).push([[0],{15:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var i=c(0),n=c(5),r=c.n(n),s=(c(15),c(3)),a=c(4),o=c(2),u={posts:[],isFetching:!0,isFiltered:!1,isFailure:!1},d="LOAD_POSTS",j="LOAD_POSTS_FAILURE",l="TOOGLE_LIKE_POST",O="REMOVE_POST",b="FILTER_POSTS",f=function(){return function(e){fetch("https://jsonplaceholder.typicode.com/photos/?_limit=21").then((function(e){return e.json()})).then((function(t){return e({type:d,payload:t})})).catch((function(t){e({type:j})}))}},h=c(1),p=function(e){var t=e.active,c=e.makeActive;return Object(h.jsx)("div",{className:"like--container",onClick:c,children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"like ".concat(t?"active":""),children:Object(h.jsx)("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z",fill:"gray"})})})},v=function(e){var t=e.removeItem;return Object(h.jsx)("div",{className:"remove--container",onClick:t,children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"remove",children:Object(h.jsx)("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z",fill:"red"})})})},m=function(e){var t=e.img,c=e.title,i=e.id,n=e.isLiked,r=void 0!==n&&n,a=Object(s.b)();return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsxs)("div",{className:"card__img--container",children:[Object(h.jsx)(v,{removeItem:function(){a(function(e){return{type:O,id:e}}(i))}}),Object(h.jsx)(p,{active:r,makeActive:function(){a(function(e){return{type:l,id:e}}(i))}}),Object(h.jsx)("img",{className:"card__img",src:t,alt:""})]}),Object(h.jsx)("span",{className:"card__title",children:c})]})},g=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.postsReducer.isFiltered}));return Object(h.jsx)("div",{className:"filter",children:Object(h.jsx)(p,{active:t,makeActive:function(){e({type:b})}})})},x=function(){var e=Object(s.c)((function(e){return e.postsReducer.posts})),t=Object(s.c)((function(e){return e.postsReducer.isFetching})),c=Object(s.c)((function(e){return e.postsReducer.isFiltered})),n=Object(s.c)((function(e){return e.postsReducer.isFailure})),r=Object(s.b)();if(Object(i.useEffect)((function(){r(f())}),[]),t)return Object(h.jsx)("div",{className:"loading",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if(n)return Object(h.jsx)("div",{className:"loading",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u043e\u0441\u0442\u043e\u0432"});if(!e.length)return Object(h.jsx)("div",{className:"loading",children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"});var a=c?e.filter((function(e){return e.isLiked})):e.map((function(e){return e}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{}),Object(h.jsx)("div",{className:"card--container",children:a.length?a.map((function(e){return function(e){return Object(h.jsx)(m,{img:e.thumbnailUrl,title:e.title,id:e.id,isLiked:e.isLiked},e.id)}(e)})):"\u041d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432 \u0441 \u043b\u0430\u0439\u043a\u0430\u043c\u0438"})]})},k=c(6),w=c(10),F=Object(k.b)({postsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),Object(a.a)(t.payload)),isFetching:!1});case j:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1,isFailure:!0});case O:var c=e.posts.filter((function(e){return e.id!==t.id}));return Object(o.a)(Object(o.a)({},e),{},{posts:Object(a.a)(c)});case l:var i=e.posts.map((function(e){return e.id===t.id&&(e.isLiked=!e.isLiked),e}));return Object(o.a)(Object(o.a)({},e),{},{posts:Object(a.a)(i)});case b:return Object(o.a)(Object(o.a)({},e),{},{isFiltered:!e.isFiltered});default:return e}}}),_=Object(k.c)(F,Object(k.a)(w.a));r.a.render(Object(h.jsx)(s.a,{store:_,children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.616e7ba4.chunk.js.map