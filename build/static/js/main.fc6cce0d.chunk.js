(this["webpackJsonpalfa-test"]=this["webpackJsonpalfa-test"]||[]).push([[0],{15:function(t,e,c){},20:function(t,e,c){"use strict";c.r(e);var i=c(0),n=c(5),r=c.n(n),s=(c(15),c(2)),a=c(4),o=c(3),d={posts:[],isFetching:!0,isFiltered:!1},u="ADD_POSTS",j="TOOGLE_LIKE_POST",l="REMOVE_POST",b="FILTER_POSTS",O=function(){return function(t){fetch("https://jsonplaceholder.typicode.com/photos/?_limit=21").then((function(t){return t.json()})).then((function(e){return t({type:u,payload:e})}))}},f=c(1),h=function(t){var e=t.active,c=t.makeActive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"like ".concat(e?"active":""),onClick:c,children:Object(f.jsx)("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z",fill:"gray"})})},p=function(t){var e=t.removeItem;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"remove",onClick:e,children:Object(f.jsx)("path",{d:"M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z",fill:"red"})})},v=function(t){var e=t.img,c=t.title,i=t.id,n=t.isLiked,r=void 0!==n&&n,a=Object(s.b)();return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsxs)("div",{className:"card__img--container",children:[Object(f.jsx)(p,{removeItem:function(){a(function(t){return{type:l,id:t}}(i))}}),Object(f.jsx)(h,{active:r,makeActive:function(){a(function(t){return{type:j,id:t}}(i))}}),Object(f.jsx)("img",{className:"card__img",src:e,alt:""})]}),Object(f.jsx)("span",{className:"card__title",children:c})]})},m=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.postsReducer.isFiltered}));return Object(f.jsx)("div",{className:"filter",children:Object(f.jsx)(h,{active:e,makeActive:function(){t({type:b})}})})},g=function(){var t=Object(s.c)((function(t){return t.postsReducer.posts})),e=Object(s.c)((function(t){return t.postsReducer.isFetching})),c=Object(s.c)((function(t){return t.postsReducer.isFiltered})),n=Object(s.b)();if(Object(i.useEffect)((function(){n(O())}),[]),e)return Object(f.jsx)("div",{className:"loading",children:"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if(!t.length)return Object(f.jsx)("div",{className:"loading",children:"\u041f\u043e\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"});var r=c?t.filter((function(t){return t.isLiked})):t.map((function(t){return t}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{}),Object(f.jsx)("div",{className:"card--container",children:r.length?r.map((function(t){return function(t){return Object(f.jsx)(v,{img:t.thumbnailUrl,title:t.title,id:t.id,isLiked:t.isLiked},t.id)}(t)})):"\u041d\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u0432 \u0441 \u043b\u0430\u0439\u043a\u0430\u043c\u0438"})]})},x=c(6),w=c(10),k=Object(x.b)({postsReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case u:return Object(o.a)(Object(o.a)({},t),{},{posts:[].concat(Object(a.a)(t.posts),Object(a.a)(e.payload)),isFetching:!1});case l:var c=t.posts.filter((function(t){return t.id!==e.id}));return Object(o.a)(Object(o.a)({},t),{},{posts:Object(a.a)(c)});case j:var i=t.posts.map((function(t){return t.id===e.id&&(t.isLiked=!t.isLiked),t}));return Object(o.a)(Object(o.a)({},t),{},{posts:Object(a.a)(i)});case b:return Object(o.a)(Object(o.a)({},t),{},{isFiltered:!t.isFiltered});default:return t}}}),_=Object(x.c)(k,Object(x.a)(w.a));r.a.render(Object(f.jsx)(s.a,{store:_,children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.fc6cce0d.chunk.js.map